# Лаголово: Анализ данных и моделирование в урбанистике


## Описание
Данный репозиторий создан в рамках курса **"Анализ данных и моделирование в урбанистике"**. В нем представлены ключевые реализации методов пространственного анализа данных, необходимых для оценки гипотез по преобразованию территорий. 
Для исследования была взята территория Лаголовского сельского поселения в Ломоносовском районе Ленинградской области. 

**Целью** данного исследования является выбор наиболее оптимального сценария пространственного развития выбранной территории при помощи прикладных методов анализа данных, моделирования и прогнозирования. 
Для достижения этой цели необходимо выполнение следующих задач.

**Задачи**:
- выбор территории исследования;
- сбор, очистка, структуризация и восполнение геопространственных, демографических, транспортных, экономических, экологических и проч. данных, в том числе проведение социологического исследования;
- анализ градостроительной документации и приоритетов СЭР по территории;
- анализ полученных данных и результатов исследования, проведение SWOT-анализа;
- создание трёх гипотез развития территории с предполагаемыми ТЭП по каждой;
- формирование информационной модели и визуализация гипотез с помощью платформы rTim;
- оценка гипотез с помощью прикладных методов анализа данных по выбранным критериям:
1) Обеспеченность местами в детских садах и школе
2) Обеспеченность городскими сервисами разного типа (выделенными в ходе исследования)
3) Центральность кварталов.
- подведение итогов о преимуществах и недостатках каждой гипотезы.
- выбор наиболее оптимального сценария развития территории среди представленных

## Основные библиотеки
- **pandas**: обработка и анализ табличных данных.
- **osmnx**: работа с графами дорожной сети, включая получение данных с OpenStreetMap.
- **geopandas**: обработка геопространственных данных.
- **matplotlib**: визуализация данных.
- **blocksnet**: продвинутые методы анализа пространственных данных, включая доступность и центральность.
- **iduedu**: специализированные методы для получения данных о транспортной сети и границах территорий.

## Основные методы

### 1. Получение пространственных данных
1.1. Выгрузка из OSM слоев с административно-территориальным делением:
- для МО (слой city): границы города, название (Name), численность населения (Population);
- для районов (слой district): границы районов, название (Name), численность населения (Population).
1.2. Заполнение атрибута Population по данным Росстат на 2023 год.
1.3. Выгрузка геометрии всех зданий, слой building:
  addr:city - город
  addr:region - регион
  addr:street - улица
  addr:housenumber – номер дома.
  * В случае нехватки актуальных данных - дорисовать геометрию и заполнить атрибуты вручную.
1.4. Получение координат жилых домов из реестра, сопоставить их с выгруженной ранее геометрией, добавить и заполнить атрибут is_living исходя из того, что
‘0’ – нежилой, ‘1’ – жилой.
1.5. Заполнение этажности жилых домов (level).
1.6. Восполнение населения.
1.7. Выгрузка сервисов в виде центроидов, если не указано иное.
    1. Выгрузить сервисы Базовой инфраструктуры (3-4 файлов) 
a. Городская среда (2 файла) 
 'pitch.geojson': 'Спортивная площадка' , 
 'playground.geojson': 'Детская площадка' , 
b. Мусор (1-2 файла) 
 'landfill.geojson': 'Свалка' , - ГЕОМЕТРИЯ - ПОЛИГОН 
 'recycling.geojson': 'Точка раздельного сбора' , - может не быть 
2. Выгрузить сервисы Социальной инфраструктуры. (27-28 файлов) a. Образование (4 файлов) 
 'college.geojson': 'Учреждение среднего профессионального образования' , 
 'kindergarten.geojson': 'Детский сад' , 
 'school.geojson': 'Школа' , 
 'university.geojson': 'Учреждение высшего профессионального образования' , 
b. Религия (2-3 файла) 
 'crematorium.geojson': 'крематорий' , - может не быть 
 'cemetry.geojson': 'кладбище' , ГЕОМЕТРИЯ - ПОЛИГОН 
 'religion.geojson': 'Религиозный объект' , 
c. Здравоохранение (11 файлов) 
 'child_polyclinic.geojson': 'Детская поликлиника' , 
 'child_hospital.geojson': 'Детская больница' , 
 'dentist.geojson': 'Стоматология' , 
 'emergency.geojson': 'Станция скорой помощи' , 
 'hospital.geojson': 'Больница' , 
 'laboratory.geojson': 'Лабораторная служба' ,
 'pharmacy.geojson': 'Аптека' , 
 'polyclinic.geojson': 'Поликлиника' , 
 'roddom.geojson': 'Роддом' , 
 'trauma.geojson': 'Травмпункт' , 
 'women_clinic.geojson': 'Женская консультация' , 
d. Социальное обслуживание (4 файла) 
 'courthouse.geojson': 'Суд' , 
 'mfz.geojson': 'МФЦ' , 
 'ministry.geojson': 'ИОГВ' , 
 'register_office.geojson': 'ЗАГС' , 
e. Специализированные учреждения (6 файлов)  'fire_station.geojson': 'Пожарная станция' , 
 'police.geojson': 'Полиция' , 
 'prison.geojson': 'Тюрьма' , 
 'prosecutor.geojson': 'Прокуратура' , 
 'social_facility.geojson': 'Соц(Дом престарелых/Детский дом)' ,  'tax.geojson': 'Налоговая служба' ,
3. Выгрузить сервисы Транспортной инфраструктуры (8-9 файлов) a. Личный транспорт (4 файлов) 
 'car_repair.geojson': 'Автосервис' , 
 'driving_school.geojson': 'Автошкола' , 
 'fuel.geojson': 'Автозаправка' , 
 'parking.geojson': 'Автопарковка' , ГЕОМЕТРИЯ - ПОЛИГОН 
b. Общественный транспорт (4-5 файла) 
 'bus_station.geojson': 'Автобусный вокзал' , 
 'bus_stop.geojson': 'Остановка общественного транспорта' , 
 'subway_entrance.geojson': 'Станция метро' , - может не быть 
 'train_building.geojson': 'Железнодорожный вокзал' , 
 'train_station.geojson': 'Железнодорожная станция' , 
4. Выгрузить сервисы Инфраструктуры обслуживания населения. (27-28 файлов) a. Доставка (2 файла) 
 'outpost.geojson': 'Пункт выдачи' , 
 'post_office.geojson': 'Почта' , 
b. Продовольствие (3 файлов) 
 'convenience.geojson': 'Магазин у дома' , 
 'marketplace.geojson': 'Рынок' , 
 'supermarket.geojson': 'Универсам/супермаркет/гипермаркет' , 
c. Питомцы (3 файла) 
 'dog_park.geojson': 'Площадка для выгула собак' , ГЕОМЕТРИЯ - ПОЛИГОН 
 'shop_pets.geojson': 'Зоомагазин' , 
 'veterinary.geojson': 'Ветеринарная клиника' , 
d. Товары (8 файлов)
 'books.geojson': 'Книжный магазин' , 
 'clothes.geojson': 'Магазин одежды/обуви/аксессуаров' , 
 'craft.geojson': 'Магазин товаров для творчества и рукоделия' ,  'electronic.geojson': 'Бытовая техника, электроника' , 
 'florist.geojson': 'Цветы' , 
 'houseware.geojson': 'Хозяйственный' , 
 'shop_sport.geojson': 'Спорттовары' , 
 'tobacco.geojson': 'Табак' , - может не быть 
e. Услуги (7 файлов) 
 'copyshop.geojson': 'Копировальный центр' , 
 'estate_agent.geojson': 'Агентство недвижимости' , 
 'funeral_directors.geojson': 'Похоронные услуги' , 
 'insurance.geojson': 'Страховая служба' , 
 'lawyer.geojson': 'Юридические услуги' , 
 'notary.geojson': 'Нотариальная контора' , 
 'shoemaker.geojson': 'Ремонт обуви и одежды'  
f. Уход за собой (2 файла) 
 'hairdresser.geojson': 'Салон красоты/парикмахерская' , 
 'public_bath.geojson': 'Баня' , 
g. Финансы (2-3 файла) 
 'atm.geojson': 'Банкомат' , 
 'bank.geojson': 'Отделение банка' , 
 'money_lender.geojson': 'Микрозайм' , - может не быть 
5. Выгрузить сервисы Инфраструктуры досуга (18-22 файлов) a. Культура, развлечения, творчество (8-12 файлов)   'cinema.geojson': 'Кинотеатр' , 
 'community_centre.geojson': 'Дом творчества/культуры' , 
 'gallery.geojson': 'Картинная галерея' , 
 'library.geojson': 'Библиотека' , 
 'mall.geojson': 'Торгово-развлекательный центр' , 
 'museum.geojson': 'Музей' , 
 'night_club.geojson': 'Клуб' , 
 'theatre.geojson': 'Театр/Концертный зал' , 
 'theme_park.geojson': 'Парк развлечений' , - может не быть  'water_park.geojson': 'Аквапарк' , - может не быть 
 'zoo.geojson': 'Зоопарк', - может не быть 
 'circus.geojson': 'Цирк' - может не быть 
b. Питание (4 файлов)
 'bakery.geojson': 'Булочная' , 
 'barpub.geojson': 'Бар/Паб' , 
 'cafe.geojson': 'Кафе/столовая' , 
 'restaurant.geojson': 'Ресторан' , 
c. Природа (3 файла) 
 'beach.geojson': 'Пляж' , ГЕОМЕТРИЯ - ПОЛИГОН 
 'park.geojson': 'Парк' , ГЕОМЕТРИЯ – ПОЛИГОН 
 'forest.geojson': 'Лес' , ГЕОМЕТРИЯ - ПОЛИГОН 
d. Спорт (3 файла) 
 'sport_centre.geojson': 'Спортивный центр' , 
 'stadium.geojson': 'Стадион' , 
 'swimming_pool.geojson': 'Бассейн' , 
6. Выгрузить сервисы Туристической инфраструктуры (3-4 файла) a. Достопримечательности (1 файл) 
 'attraction.geojson': 'Достопримечательность' , 
b. Жилье для приезжих (2-3 файла) 
 'guest_house.geojson': 'Гостевой дом' , - может не быть 
 'hostel.geojson': 'Хостел' , 
 'hotel.geojson': 'Гостиница' ,
1.8. Заполнить вместимость школ и детских садов.
1.9. Нарезка кваратлов с помощью библиотеки **blocksnet**.

**get_drive_graph**: получение графа транспортной сети для автомобилей.
- **get_walk_graph**: создание графа пешеходной инфраструктуры.
- **get_all_public_transport_graph**: сбор данных об общественном транспорте.
- **get_boundary**: определение границ изучаемой территории.

### 2. Анализ доступности
- **AccessibilityProcessor**: инструменты для оценки доступности различных объектов и услуг на территории.
- **Accessibility**: пространственный анализ доступности ключевых объектов.

### 3. Центральность и сводные показатели
- **Centrality**: определение центральных узлов сети и ключевых путей.
- **Connectivity**: анализ связности территорий.

### 4. Прогнозирование
- **LandUsePrediction**: прогноз изменения использования земельных участков.
- **Diversity**: оценка разнообразия объектов на территории.

### 5. Обеспеченность
- **Provision** и **ProvisionMethod**: анализ плотности объектов, таких как школы, больницы и магазины, и их обеспеченности.

### 6. Визуализация
- Построение картографических визуализаций с использованием **matplotlib** и **geopandas**.
![Image alt](https://github.com/{dashageraa}/{lagolowo}/raw/{branch}/{path}/image.png)
https://github.com/lavande-epices/lagolowo/blob/master/docs/hyp1/1.1.png
## Структура репозитория
- **Jupyter Notebook**: основной файл с кодом для выполнения анализа.
- **Данные**: входные и выходные данные, включая географические границы, графы сетей и сервисы.
- **Документы**: гипотезы развития территории и их визуализация
- **README**: описание репозитория и методов.

## Использование
1. Установите зависимости из `requirements.txt`.
2. Откройте Jupyter Notebook для выполнения анализа.
3. Следуйте инструкциям в ноутбуке для запуска анализа вашей территории.

## Авторы и вклад
Исследование проведено междисциплинарной командой цифровых урбанистов разного профиля.
- Беляев Александр
   Бэкграунд - география.
    Обязанности: создание модели территории в rTim, формирование репозитория GitHUB.
- Герасимова Дарья
   Бэкграунд - градостроительство.
     Обязанности: сбор и структуризация пространственных данных, формирование репозитория GitHUB, формирование отчётной презентации.
- Курохтин Игорь
   Бэкграунд - география.
    Обязанности: формулирование и создание модели территории в rTim, формулирование критериев оценки гипотез и их интерпретации.
- Станкова Алёна
   Бэкграунд - социология.
    Обязанности: сбор и структуризация пространственных данных, создание модели территории в rTim, оценка гипотез по выбранным критериям. 
- Татур Екатерина
   Бэкграунд - прикладная информатика.
    Обязанности: сбор и структуризация пространственных данных, оценка гипотез по выбранным критериям. 
- Щербинина Александра
   Бэкграунд - строительство.
    Обязанности: сбор и структуризация пространственных данных, создание модели территории в rTim, формулирование критериев оценки гипотез и их интерпретации.

## Лицензия
Данный проект распространяется под свободной лицензией. Используйте материалы в образовательных и исследовательских целях.
